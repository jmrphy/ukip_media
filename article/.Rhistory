dumvar=diffvars[107:146,4:5],
newxreg = simvars)
n.ahead <- 40
simvars<-diffvars
# Row 107 = 2012-12-01
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-07-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-08-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-09-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-10-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-11-01",0,simvars$UKIP.Articles)
simvars<-subset(simvars, Date<="2012-11-01")
# Run predict
ypred <- predict(varmodel,
n.ahead = 20,
dumvar=diffvars[107:126,4:5],
newxreg = simvars)
ypred
names(ypred)
ypred$fcst
ypred$fcst[1]
ypred$fcst[2]
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-07-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-08-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-09-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-10-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-11-01",0,simvars$UKIP.Articles)
# Rows 1 - 106
simvars<-subset(simvars, Date<="2012-11-01")
# Predicted values for 20 months out starting in 2012/12
ypred <- predict(varmodel,
n.ahead = 20,
dumvar=diffvars[107:126,4:5],
newxreg = simvars)
ypred$fcst[2]
ypred[2]$fcst
ypred[2]
ypred[2]$fcst
names(ypred[2])
names(ypred[,2])
names(ypred[2,])
names(ypred$fcst)
names(ypred$fcst$UKIP.Vote)
ypred$fcst$UKIP.Vote
ypred$UKIP.Vote
ypred$fcst
ypred$fcst$UKIP.Vote
ypred$fcst$UKIP.Vote[1]
ypred$fcst$UKIP.Vote[,1]
vote.pred<-ypred$fcst$UKIP.Vote[,1]
diffvars[107:126]
diffvars[107:126,]
rbind(diffvars$UKIP.Vote[1:106,], vote.pred)
diffvars$UKIP.Vote[1:106,]
diffvars$UKIP.Vote[1:106]
rbind(diffvars$UKIP.Vote[1:106], vote.pred)
vote.pred
vote.obs<-diffvars$UKIP.Vote[1:106]
rbind(vote.obs, vote.pred)
vote.obs
vote.pred
rbind(as.vector(vote.obs), vote.pred)
diffvars$votepred<-diffvars$UKIP.Vote
diffvars$votepred[107:126]
diffvars$votepred[107:126]<-vote.pred
View(diffvars)
molten<-melt(diffvars[c("UKIP.Articles","UKIP.Vote", "votepred", "Date")], id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2004-01-01','2015-09-01'))) +
theme_bw()
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2012-01-01','2015-09-01'))) +
theme_bw()
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2012-06-01','2015-09-01'))) +
theme_bw()
molten<-melt(diffvars[c("UKIP.Vote", "votepred", "Date")], id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2012-06-01','2015-09-01'))) +
theme_bw()
molten<-melt(diffvars[c("UKIP.Vote", "votepred", "Date")], id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2012-06-01','2015-09-01'))) +
theme_bw()
# Chunk 1
require(lubridate)
require(ggplot2)
require(timeSeries)
require(tseries)
require(reshape2)
require(scales)
require(vars)
require(car)
require(dynlm)
require(stargazer)
require(sandwich)
require(forecast)
require(zoo)
require(xts)
options(scipen=999)
options(digits=2)
set.seed(345)
options(xtable.comment = FALSE)
#setwd("C:/Users/Daniel/Dropbox/ukip_media/article")
setwd("~/Dropbox/gh_projects/ukip_media/article")
#df<-read.csv("C:/Users/Daniel/Dropbox/ukip_media/data/ukip_media.csv")
df<-read.csv("~/Dropbox/gh_projects/ukip_media/data/ukip_media.csv")
df$Date<-mdy(df$Date)
df$UKIP.Vote<-interpNA(df$UKIP.Vote, method = "linear")
unscaled<-df
modelvars<-df[c("Date", "UKIP.Vote", "UKIP.Articles", "General.Election2005", "General.Election2010",
"General.Election2015", "Euro.Election2004","Euro.Election2009", "Euro.Election2014")]
cbbPalette <- c("#D55E00", "#0072B2","#009E73","#999999", "#56B4E9","#CC79A7")
ggplot(df, aes(x=Date, y=UKIP.Vote)) +
geom_line(colour="#0072B2", linetype=2) + theme_bw() + labs(y="Vote Intention (%)", x="") +
theme(axis.text.y = element_text(size=12.45)) +
labs(title="Dynamics of UKIP Support and Media Coverage")
# Chunk 2
ggplot(df, aes(x=Date, y=UKIP.Articles)) +
geom_line(colour="#D55E00", linetype=1) + theme_bw() + labs(y="Articles", x="") +
theme(axis.text.y = element_text(size=7.25))
# Chunk 3
df$UKIP.Articles<-scale(df$UKIP.Articles)[,]
df$UKIP.Vote<-scale(df$UKIP.Vote)[,]
# Both series in one plot
graph.df<-subset(df, select=c("Date", "UKIP.Articles", "UKIP.Vote"))
molten<-melt(graph.df, id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%Y"),
#               breaks = "6 months",
limits = as.Date(c('2004-02-01','2015-09-01'))) +
theme_bw() +
theme(legend.position="bottom",
legend.title=element_blank()) +
#  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
theme(axis.text.y = element_text(size=12.45)) +
labs(x="Date", y="Standardized Values") +
theme(legend.position="none")
# Chunk 4
# adf.test(df$UKIP.Articles)  # non-stationary
# adf.test(df$UKIP.Vote) # non-stationary
modelvars$UKIP.Articles.d<-diff(zoo(scale(modelvars$UKIP.Articles)), na.pad=T)
modelvars$UKIP.Articles.d.l<-lag(modelvars$UKIP.Articles.d, k=-1, na.pad=T)
modelvars$UKIP.Articles.d<-as.numeric(modelvars$UKIP.Articles.d)
modelvars$UKIP.Articles.d.l<-as.numeric(modelvars$UKIP.Articles.d.l)
modelvars$UKIP.Vote.d<-diff(zoo(scale(modelvars$UKIP.Vote)), na.pad=T)
modelvars$UKIP.Vote.d.l<-lag(modelvars$UKIP.Vote.d,k=-1, na.pad=T)
modelvars$UKIP.Vote.d<-as.numeric(modelvars$UKIP.Vote.d)
modelvars$UKIP.Vote.d.l<-as.numeric(modelvars$UKIP.Vote.d.l)
modelvars$UKIP.Articles.notlog<-scale(modelvars$UKIP.Articles)
modelvars$UKIP.Vote.notlog<-scale(modelvars$UKIP.Vote)
modelvars$UKIP.Articles<-log(modelvars$UKIP.Articles)
modelvars$UKIP.Vote<-log(modelvars$UKIP.Vote)
modelvars$General.Elections<-ifelse(modelvars$General.Election2005==1 | modelvars$General.Election2010==1 |
modelvars$General.Election2015==1, 1, 0)
modelvars$EU.Elections<-ifelse(modelvars$Euro.Election2004==1 |
modelvars$Euro.Election2009==1 |
modelvars$Euro.Election2014==1,
1, 0)
modelvars$UKIP.Articles<-scale(modelvars$UKIP.Articles)
modelvars$UKIP.Vote<-scale(modelvars$UKIP.Vote)
diffvars<-data.frame()  # difference variables and lag dates/elections to match
diffvars<-as.data.frame(cbind(modelvars$Date[2:length(modelvars$Date)],
diff(modelvars$UKIP.Vote),
diff(modelvars$UKIP.Articles),
modelvars[2:length(modelvars$Date), 16:17]))
names(diffvars)<-c("Date", "UKIP.Vote", "UKIP.Articles",
"General.Elections", "EU.Elections")
row.names(diffvars)<-NULL
# adf.test(diffvars$UKIP.Articles)  # stationary after differencing
# adf.test(diffvars$UKIP.Vote)   # stationary after differencing
# VARselect(diffvars[2:3], type="both", exogen=diffvars[10:11])$selection[1]
varmodel<-VAR(diffvars[c(3,2)], lag.max=10, ic="AIC", type="both", exogen=diffvars[4:5])
# serial.test(varmodel)  # big p = good
# arch.test(varmodel)    # big p = good
# stab<-stability(varmodel)
# plot(stab)
# summary(varmodel)
# summary(varmodel, equation="UKIP.Articles")
# summary(varmodel, equation="UKIP.Vote")
# Chunk 5
stargazer(varmodel$varresult$UKIP.Vote, varmodel$varresult$UKIP.Articles,
title="Vector Autoregression",
column.labels=c("$\\Delta Support$", "$\\Delta Articles$"),
dep.var.labels=c(""),
covariate.labels=c("$\\Delta Articles_{t-1}$",
"$\\Delta Support_{t-1}$",
"$\\Delta Articles_{t-2}$",
"$\\Delta Support_{t-2}$",
"$\\Delta Articles_{t-3}$",
"$\\Delta Support_{t-3}$",
"Constant",
"Trend",
"General Elections",
"EU Elections"),
header=FALSE)
# Chunk 6
gc.articles<-causality(varmodel, cause="UKIP.Vote", vcov.=vcovHC(varmodel))
gc.vote<-causality(varmodel, cause="UKIP.Articles", vcov.=vcovHC(varmodel))
gc.articles.result<-as.data.frame(unlist(gc.articles$Granger))
gc.vote.result<-as.data.frame(unlist(gc.vote$Granger))
results<-merge(gc.vote.result, gc.articles.result, by="row.names")
results<-results[3:6,1:3]
results$Row.names<-c("P-value", "DF1", "DF2", "F-test")
names(results)<-c("", "Support", "Articles")
results$Support<-as.numeric(as.character(results$Support))
results$Articles<-as.numeric(as.character(results$Articles))
stargazer(results,
summary=F,
title="Granger Causality Tests",
style="APSR",
digits=3,
rownames=F,
header=F)
# Chunk 7
set.seed(666)
# irf(varmodel, impulse="UKIP.Vote", response="UKIP.Articles", cumulative=F, boot=F)
plot(irf(varmodel, impulse="UKIP.Vote", response="UKIP.Articles", cumulative=F, boot=T,
seed=345, n.ahead=12, ortho=T),
main="Impulse Response of Articles from Support")
# Chunk 8
set.seed(666)
plot(irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=24, ortho=T),
main="Impulse Response of Support from Articles")
# fanchart(predict(varmodel, n.ahead=3, dumvar=diffvars[143:145,4:5]))
## Predict out 10 months assuming observed articles
# Make newdata dataframe for prediction
n.ahead <- 20
simvars<-diffvars
# Row 107 = 2012-12-01
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-07-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-08-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-09-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-10-01",0,simvars$UKIP.Articles)
simvars$UKIP.Articles <- ifelse(as.Date(simvars$Date)=="2012-11-01",0,simvars$UKIP.Articles)
# Rows 1 - 106
simvars<-subset(simvars, Date<="2012-11-01")
# Predicted values for 20 months out starting in 2012/12
ypred <- predict(varmodel,
n.ahead = 20,
dumvar=diffvars[107:126,4:5],
newxreg = simvars)
vote.pred<-ypred$fcst$UKIP.Vote[,1]
diffvars$votepred<-diffvars$UKIP.Vote
diffvars$votepred[107:126]<-vote.pred
molten<-melt(diffvars[c("UKIP.Vote", "votepred", "Date")], id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2012-06-01','2015-09-01'))) +
theme_bw()
# Chunk 9
qual.graph.df<-subset(modelvars, select=c("Date", "UKIP.Articles.d", "UKIP.Vote.d", "UKIP.Vote.d.l",
"UKIP.Articles.d.l", "UKIP.Vote.notlog", "UKIP.Articles.notlog"))
qual.graph.df$UKIP.Articles.notlog<-as.numeric(qual.graph.df$UKIP.Articles.notlog)
qual.graph.df$UKIP.Vote.notlog<-as.numeric(qual.graph.df$UKIP.Vote.notlog)
qual.graph.df<-qual.graph.df[complete.cases(qual.graph.df),]
qual.graph.df$bias<-ifelse(qual.graph.df$UKIP.Articles.d>.05 &
qual.graph.df$UKIP.Vote.d<.05 &
qual.graph.df$UKIP.Vote.d.l<.05, 1, 0)
qual.graph.df$exog<-ifelse(qual.graph.df$UKIP.Articles.d<.05 &
qual.graph.df$UKIP.Articles.d.l<.05 &
qual.graph.df$UKIP.Vote.d>.05, 1, 0)
##### Master
qual.graph.df$Support<-qual.graph.df$UKIP.Vote.notlog
qual.graph.df$Articles<-qual.graph.df$UKIP.Articles.notlog
molten<-melt(qual.graph.df[c("Articles","Support", "Date")], id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(),
limits = as.Date(c('2004-01-01','2015-09-01'))) +
theme_bw() +
theme(legend.position="bottom",
legend.title=element_blank()) +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
theme(axis.text.y = element_text(size=12.45)) +
labs(x="Date", y="Standardized Values") +
geom_vline(xintercept = as.numeric(as.Date(qual.graph.df$Date[qual.graph.df$bias==1])), linetype = "dashed", color = "green") +
geom_vline(xintercept = as.numeric(as.Date(qual.graph.df$Date[qual.graph.df$exog==1])), linetype = "dotted", color = "grey")
# Chunk 10
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%m/%Y"),
breaks = pretty_breaks(10),
limits = as.Date(c('2012-05-01','2014-01-01'))) +
theme_bw() +
theme(legend.position="bottom",
legend.title=element_blank()) +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
theme(axis.text.y = element_text(size=12.45)) +
labs(x="Date", y="Standardized Values") +
geom_vline(xintercept = as.numeric(as.Date(qual.graph.df$Date[qual.graph.df$bias==1])), linetype = "dashed", color = "green") +
geom_vline(xintercept = as.numeric(as.Date(qual.graph.df$Date[qual.graph.df$exog==1])), linetype = "dashed", color = "grey")
# Chunk 11: supplementary
#plot(varmodel, ask=FALSE)
stab<-stability(varmodel)
plot(stab)
require(lubridate)
require(ggplot2)
require(timeSeries)
require(tseries)
require(reshape2)
require(scales)
require(vars)
require(car)
require(dynlm)
require(stargazer)
require(sandwich)
require(forecast)
require(zoo)
require(xts)
options(scipen=999)
options(digits=2)
set.seed(345)
options(xtable.comment = FALSE)
#setwd("C:/Users/Daniel/Dropbox/ukip_media/article")
setwd("~/Dropbox/gh_projects/ukip_media/article")
#df<-read.csv("C:/Users/Daniel/Dropbox/ukip_media/data/ukip_media.csv")
df<-read.csv("~/Dropbox/gh_projects/ukip_media/data/ukip_media.csv")
df$Date<-mdy(df$Date)
df$UKIP.Vote<-interpNA(df$UKIP.Vote, method = "linear")
unscaled<-df
modelvars<-df[c("Date", "UKIP.Vote", "UKIP.Articles", "General.Election2005", "General.Election2010",
"General.Election2015", "Euro.Election2004","Euro.Election2009", "Euro.Election2014")]
cbbPalette <- c("#D55E00", "#0072B2","#009E73","#999999", "#56B4E9","#CC79A7")
ggplot(df, aes(x=Date, y=UKIP.Vote)) +
geom_line(colour="#0072B2", linetype=2) + theme_bw() + labs(y="Vote Intention (%)", x="") +
theme(axis.text.y = element_text(size=12.45)) +
labs(title="Dynamics of UKIP Support and Media Coverage")
ggplot(df, aes(x=Date, y=UKIP.Articles)) +
geom_line(colour="#D55E00", linetype=1) + theme_bw() + labs(y="Articles", x="") +
theme(axis.text.y = element_text(size=7.25))
df$UKIP.Articles<-scale(df$UKIP.Articles)[,]
df$UKIP.Vote<-scale(df$UKIP.Vote)[,]
# Both series in one plot
graph.df<-subset(df, select=c("Date", "UKIP.Articles", "UKIP.Vote"))
molten<-melt(graph.df, id.vars=c("Date"))
ggplot(molten, aes(x=as.Date(Date))) +
geom_line(aes(y=value, colour=variable, linetype=variable)) +
scale_colour_manual(values=cbbPalette) +
scale_x_date(labels = date_format("%Y"),
#               breaks = "6 months",
limits = as.Date(c('2004-02-01','2015-09-01'))) +
theme_bw() +
theme(legend.position="bottom",
legend.title=element_blank()) +
#  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
theme(axis.text.y = element_text(size=12.45)) +
labs(x="Date", y="Standardized Values") +
theme(legend.position="none")
modelvars$UKIP.Articles.notlog<-scale(modelvars$UKIP.Articles)
modelvars$UKIP.Vote.notlog<-scale(modelvars$UKIP.Vote)
modelvars$UKIP.Articles<-log(modelvars$UKIP.Articles)
modelvars$UKIP.Vote<-log(modelvars$UKIP.Vote)
modelvars$General.Elections<-ifelse(modelvars$General.Election2005==1 | modelvars$General.Election2010==1 |
modelvars$General.Election2015==1, 1, 0)
modelvars$EU.Elections<-ifelse(modelvars$Euro.Election2004==1 |
modelvars$Euro.Election2009==1 |
modelvars$Euro.Election2014==1,
1, 0)
diffvars<-data.frame()  # difference variables and lag dates/elections to match
diffvars<-as.data.frame(cbind(modelvars$Date[2:length(modelvars$Date)],
diff(modelvars$UKIP.Vote),
diff(modelvars$UKIP.Articles),
modelvars[2:length(modelvars$Date), 16:17]))
names(diffvars)<-c("Date", "UKIP.Vote", "UKIP.Articles",
"General.Elections", "EU.Elections")
row.names(diffvars)<-NULL
View(modelvars)
diffvars<-data.frame()  # difference variables and lag dates/elections to match
diffvars<-as.data.frame(cbind(modelvars$Date[2:length(modelvars$Date)],
diff(modelvars$UKIP.Vote),
diff(modelvars$UKIP.Articles),
modelvars[2:length(modelvars$Date), 12:13]))
names(diffvars)<-c("Date", "UKIP.Vote", "UKIP.Articles",
"General.Elections", "EU.Elections")
row.names(diffvars)<-NULL
VARselect(diffvars[2:3], type="both", exogen=diffvars[10:11])$selection[1]
varmodel<-VAR(diffvars[c(3,2)], lag.max=10, ic="AIC", type="both", exogen=diffvars[4:5])
serial.test(varmodel)
arch.test(varmodel)
plot(irf(varmodel, impulse="UKIP.Vote", response="UKIP.Articles", cumulative=F, boot=T,
seed=345, n.ahead=12, ortho=T),
main="Impulse Response of Articles from Support")
plot(irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=24, ortho=T),
main="Impulse Response of Support from Articles")
summary(irf)
irf
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=24, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
irf.vote
print(irf.vote)
summary(irf.vote)
names(irf.vote)
names(irf.vote$irf)
irf.vote$irf
?irf
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=T, boot=T,
seed=345, n.ahead=24, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=24, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
irf.vote$irf
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=10, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
irf.vote$irf
?exp
log(10)
exp(2.3)
exp(irf.vote$irf)
irf.vote$irf
as.vector(irf.vote$irf)
irf<-as.vector(irf.vote$irf)
irf
ir<-unlist(irf.vote$irf)
ir
ir<-as.data.frame(irf.vote$irf)
View(ir)
ir<-as.data.frame(exp(irf.vote$irf))
ir<-exp(as.data.frame(irf.vote$irf))
View(ir)
irf.vote
names(irf.vote)
irf.vote$impulse
irf.vote$model
irf.vote
ir<-as.data.frame(irf.vote$irf)*100
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=10, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
ir<-as.data.frame(irf.vote$irf)*100
ir
as.data.frame(irf.vote$irf)
exp(as.data.frame(irf.vote$irf))
hist(diffvars$UKIP.Articles)
ir<-as.data.frame(irf.vote$irf)
ir
ir.df<-null
ir.df<-NULL
ir.df$raw<-as.data.frame(irf.vote$irf)
ir.df$original<-exp(as.data.frame(irf.vote$irf))
ir.df$original<-exp(as.data.frame(irf.vote$irf))
ir.df$original
quantile(unscaled$UKIP.Articles, .1)
quantile(unscaled$UKIP.Articles, .01)
max(unscaled$UKIP.Articles)
max(unscaled$UKIP.Articles)/100
43*100
1per<-max(unscaled$UKIP.Articles)/100
one.per<-max(unscaled$UKIP.Articles)/100
one.unit<-max(unscaled$UKIP.Articles)/100
one.unit*400
one.unit*5
mean(unscaled$UKIP.Articles)
3000/one.unit
first.bump<-3000/one.unit
varmodel
summary(varmodel)
irf.vote <- irf(varmodel, impulse="UKIP.Articles", response="UKIP.Vote", cumulative=F, boot=T,
seed=345, n.ahead=10, ortho=T)
plot(irf.vote, main="Impulse Response of Support from Articles")
names(varmodel)
varmodel$varresult
names(varmodel$varresult)
varmodel$varresult$UKIP.Vote
names(varmodel$varresult$UKIP.Vote)
varmodel$varresult$UKIP.Vote$coefficients
varmodel$varresult$UKIP.Vote$coefficients[1]
first.bump*varmodel$varresult$UKIP.Vote$coefficients[1]
exp(7.1)
max(unscaled$UKIP.Vote)
max(unscaled$UKIP.Vote)/percent.effect
max(unscaled$UKIP.Vote)/7
max(unscaled$UKIP.Vote)*.07
percent.effect/max(unscaled$UKIP.Vote)
percent.effect<-first.bump*varmodel$varresult$UKIP.Vote$coefficients[1]
percent.effect/max(unscaled$UKIP.Vote)
percent.effect
max(unscaled$UKIP.Vote)/percent.effect
percent.effect/100
max(unscaled$UKIP.Vote)*(percent.effect/100)
